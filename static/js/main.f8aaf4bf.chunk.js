(this.webpackJsonpagiled=this.webpackJsonpagiled||[]).push([[0],{103:function(e,t,n){e.exports=n(117)},114:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var a=n(15),r=n(0),o=n.n(r),c=n(8),i=n.n(c),l=n(11),s=n(42),u=n(3),d=n(80),p=n(177),g=n(20),m=n(178),b=n(157),f=n(158),h=n(159),O=n(161),v=n(46),j=n(160),E=n(118),w=n(82),y=n.n(w),k=n(86),S=n.n(k),x=n(87),C=n.n(x),N=n(162),T=n(163),W=n(164),L=n(66),I=n.n(L),_=n(88),G=n.n(_),A=n(84),M=n.n(A),B=n(83),R=n.n(B),U=n(85),P=n.n(U),z=n(156),D=n(58),V=n.n(D),X="SET_COUNTDOWN",H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return{type:X,payload:e}},J="SET_COUNTDOWN_WARNING",$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return{type:J,payload:e}},Y="SET_SCALE",q=[[0,1,2,3,5,8,13,20,40,100,"?",o.a.createElement(V.a,null)],[0,1,2,3,5,8,13,21,34,55,89,"?",o.a.createElement(V.a,null)],["XS","S","M","L","XL","XXL","?",o.a.createElement(V.a,null)]],F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:Y,payload:e}},K="TOGGLE_SETTINGS",Q=function(e){return{type:K,payload:e}},Z="TOGGLE_SOUND",ee=function(e){return{type:Z,payload:e}},te="TOGGLE_THEME",ne=function(e){return{type:te,payload:e}},ae="TOGGLE_ONLINE",re=function(e){return{type:ae,payload:e}},oe="SET_ONLINE_URL",ce="TOGGLE_CLOSE_ON_VOTE",ie=function(e){return{type:ce,payload:e}},le="SET_VOTE",se=function(e){return{type:le,payload:e}},ue=n(9),de=n(176),pe=Object(d.a)((function(e){return Object(p.a)({root:{display:"flex",flexWrap:"wrap",padding:"10px 5px"},voteCard:{"&::before":{display:"block",content:'""',paddingTop:"115%"},flex:1,margin:5,padding:0,fontSize:24,"& svg":{height:"80%",width:"80%"}},selected:{borderColor:e.palette.warning.main,color:e.palette.warning.main}})}));var ge=function(e){var t=pe(),n=Object(ue.b)(),a=Object(de.c)(),r=Object(ue.c)((function(e){return e.settings.scale})),c=Object(ue.c)((function(e){return e.settings.closeOnVote})),i=Object(ue.c)((function(e){return e.vote.selected})),s=e.handleDrawerToggle,d=void 0===s?function(){}:s;return o.a.createElement("div",{className:t.root},q[r].map((function(e,r){return o.a.createElement(z.a,{key:e,variant:"outlined",onClick:function(){return function(e){c&&"/results"===a.location.pathname&&d(),n(se(e===i?null:e))}(r)},className:Object(u.a)(t.voteCard,Object(l.a)({},t.selected,i===r))},e)})))},me=Object(d.a)((function(e){return Object(p.a)({root:{display:"flex",flex:1},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(320,"px)"),marginLeft:320,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:"100%",maxWidth:320,flexShrink:0},drawerPaper:{width:"100%",maxWidth:320},drawerHeader:Object(a.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),drawerHeaderActions:{flex:1},content:{flexGrow:1,display:"flex",transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-320},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}})}));function be(e){var t=e.togglePalleteMode,n=e.children,a=me(),r=Object(ue.b)(),c=Object(de.c)(),i=Object(g.a)(),d=o.a.useState(!0),p=Object(s.a)(d,2),w=p[0],k=p[1],x=function(){k(!w)};return o.a.createElement("div",{className:a.root,onTouchStart:function(e){var t=e.nativeEvent,n=t.touches[0].clientX;(!w&&n<50||w&&n<300)&&t.target.addEventListener("touchend",(function e(a){var r=a.changedTouches[0].clientX-n;!w&&r>150?k(!0):w&&r<-150&&k(!1),t.target.removeEventListener("touchend",e)}))}},o.a.createElement(b.a,null),o.a.createElement(f.a,{position:"fixed",className:Object(u.a)(a.appBar,Object(l.a)({},a.appBarShift,w))},o.a.createElement(h.a,null,o.a.createElement(E.a,{color:"inherit","aria-label":"open drawer",onClick:x,edge:"start",className:Object(u.a)(a.menuButton,w&&a.hide)},o.a.createElement(y.a,null)),o.a.createElement(v.a,{variant:"h6",noWrap:!0},"Agiled"))),o.a.createElement(m.a,{className:a.drawer,variant:"persistent",anchor:"left",open:w,classes:{paper:a.drawerPaper}},o.a.createElement("div",{className:a.drawerHeader},o.a.createElement("div",{className:a.drawerHeaderActions},o.a.createElement(E.a,{onClick:t},"dark"===i.palette.type?o.a.createElement(R.a,null):o.a.createElement(M.a,null)),o.a.createElement(E.a,{onClick:function(e){r(Q(!0))}},o.a.createElement(P.a,null))),o.a.createElement(E.a,{onClick:x},"ltr"===i.direction?o.a.createElement(S.a,null):o.a.createElement(C.a,null))),o.a.createElement(j.a,null),o.a.createElement(O.a,null,[{icon:o.a.createElement(I.a,null),path:"/results",title:"Start vote"}].map((function(e){return"/results"!==c.location.pathname?o.a.createElement(N.a,{button:!0,key:e.title,onClick:function(){return c.push(e.path)}},o.a.createElement(T.a,null,o.a.createElement(I.a,null)),o.a.createElement(W.a,{primary:"Start vote"})):o.a.createElement(N.a,{button:!0,key:"Stop vote",onClick:function(){return c.push("/")}},o.a.createElement(T.a,null,o.a.createElement(G.a,null)),o.a.createElement(W.a,{primary:"Stop vote"}))}))),o.a.createElement(j.a,null),o.a.createElement(ge,{handleDrawerToggle:x})),o.a.createElement("main",{className:Object(u.a)(a.content,Object(l.a)({},a.contentShift,w))},n))}var fe=n(175),he=n(92),Oe=n(172),ve=n(89),je=n.n(ve),Ee=n(90),we=n.n(Ee),ye=new Audio(je.a),ke=new Audio(we.a);ye.load(),ke.load();var Se=Object(d.a)((function(e){return Object(p.a)({countdown:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",userSelect:"none",transition:e.transitions.create(["background-color"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.complex})},counter:{fontSize:"20vw",position:"relative","&:after":{backgroundColor:"transparent",content:'""',display:"block",width:"104%",left:"-2%",height:"2vw",transform:"rotate(-10deg)",position:"absolute",top:"50%",".error&":{backgroundColor:e.palette.background.default,"$light &":{backgroundColor:e.palette.error.main}}}},button:{fontSize:30,textTransform:"none",padding:"7px 25px",minWidth:150,backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,transition:e.transitions.create(["background"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.complex}),"&:hover":{backgroundImage:"linear-gradient(to right, ".concat(e.palette.action.hover,", ").concat(e.palette.action.hover,")"),backgroundColor:e.palette.secondary.main,"$warning&":{backgroundColor:e.palette.warning.main},"$error&":{backgroundColor:e.palette.error.main}}},light:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},warning:{backgroundColor:e.palette.warning.main,color:e.palette.error.contrastText},error:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText}})}));var xe=function(){var e,t,n=Se(),a=Object(g.a)(),c=Object(ue.c)((function(e){return e.settings.countdown})),i=Object(ue.c)((function(e){return e.settings.countdownWarning})),d=Object(ue.c)((function(e){return e.settings.sound})),p=Object(r.useRef)(0),m=Object(r.useState)(c),b=Object(s.a)(m,2),f=b[0],h=b[1],O=Object(r.useMemo)((function(){return f<=i&&f>0}),[f,i]),j=Object(r.useMemo)((function(){return f<1}),[f]),E=Object(r.useMemo)((function(){var e=(Math.abs(f)<600?"0":"")+Math.abs(f/60|0),t=("0"+Math.abs(f%60)).substr(-2);return"".concat(e,":").concat(t)}),[f]);return Object(r.useEffect)((function(){return function(){clearInterval(p.current),p.current=0}}),[]),Object(r.useEffect)((function(){0===p.current&&h(c)}),[c]),o.a.createElement("div",{className:Object(u.a)(n.countdown,(e={},Object(l.a)(e,n.light,"light"===a.palette.type),Object(l.a)(e,n.warning,"light"===a.palette.type&&O),Object(l.a)(e,n.error,"light"===a.palette.type&&j),e))},o.a.createElement(v.a,{className:Object(u.a)(n.counter,{error:j})},o.a.createElement("span",null,E)),o.a.createElement(z.a,{onClick:function(){c>f?(clearInterval(p.current),p.current=0,h(c)):(h(f-1),p.current=setInterval((function(){return h((function(e){return d&&(e<=i+1&&e>1?ke.play():1===e&&ye.play()),e-1}))}),1e3))},variant:"contained",className:Object(u.a)(n.button,(t={},Object(l.a)(t,n.warning,O),Object(l.a)(t,n.error,j),t))},0===p.current?"Start":"Reset"))},Ce=n(165),Ne=n(166),Te=n(167),We=n(168),Le=n(169),Ie=n(170),_e=n(174),Ge=n(120),Ae=n(171),Me=n(173),Be=Object(d.a)((function(e){return Object(p.a)({number:{marginTop:e.spacing(1),marginBottom:e.spacing(1),display:"block"}})}));var Re=function(){var e=Be(),t=Object(ue.b)(),n=Object(ue.c)((function(e){return e.settings.scale})),a=Object(ue.c)((function(e){return e.settings.sound})),r=Object(ue.c)((function(e){return e.settings.open})),c=Object(ue.c)((function(e){return e.settings.countdown})),i=Object(ue.c)((function(e){return e.settings.countdownWarning})),l=Object(ue.c)((function(e){return e.settings.online})),s=Object(ue.c)((function(e){return e.settings.closeOnVote}));return o.a.createElement(Ce.a,{onClose:function(){t(Q(!1))},open:r,fullWidth:!0},o.a.createElement(Ne.a,null,"Settings"),o.a.createElement(Te.a,{dividers:!0},o.a.createElement(We.a,{component:"fieldset"},o.a.createElement(Le.a,{name:"scale",value:n,onChange:function(e){t(F(0|e.target.value))}},["Standard","Fibonacci","T-shirts"].map((function(e,t){return o.a.createElement(Ie.a,{control:o.a.createElement(_e.a,null),key:e,label:e,value:t})})))),o.a.createElement(Ge.a,{row:!0},o.a.createElement(Ie.a,{control:o.a.createElement(Ae.a,{checked:s,onChange:function(){t(ie(!s))}}),label:"Close menu after vote"})),o.a.createElement(Ge.a,{row:!0},o.a.createElement(Ie.a,{control:o.a.createElement(Ae.a,{checked:a,onChange:function(){t(ee(!a))}}),label:"Sound"})),o.a.createElement(Me.a,{className:e.number,required:!0,label:"Countdown limit (s)",type:"number",inputProps:{min:0},value:c,onInput:function(e){t(H(0|e.target.value))}}),o.a.createElement(Me.a,{className:e.number,required:!0,label:"Countdown warning limit (s)",type:"number",inputProps:{min:0},error:c<i,value:i,onInput:function(e){var n=c<e.target.value|0?c:0|e.target.value;t($(n))}}),o.a.createElement(Ge.a,{row:!0},o.a.createElement(Ie.a,{control:o.a.createElement(Ae.a,{checked:l,onChange:function(){t(re(!l))}}),label:"Offline (Singleplayer)",disabled:!0}))))},Ue=Object(d.a)((function(e){var t;return Object(p.a)({root:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",perspective:"100vw"},card:(t={minWidth:"3.6ex",backgroundColor:e.palette.background.default,borderWidth:2,fontSize:"45vw"},Object(l.a)(t,e.breakpoints.up("sm"),{fontSize:"30vw"}),Object(l.a)(t,e.breakpoints.up("md"),{fontSize:"20vw"}),Object(l.a)(t,e.breakpoints.up("lg"),{fontSize:"15vw"}),Object(l.a)(t,"padding",0),Object(l.a)(t,"transformStyle","preserve-3d"),Object(l.a)(t,"transform","rotateY(.5turn)"),Object(l.a)(t,"transition","transform 1s"),Object(l.a)(t,"& span.MuiButton-label svg",{width:"80%",height:"80%"}),Object(l.a)(t,"&:hover",{backgroundColor:e.palette.background.default}),Object(l.a)(t,"&:before",{content:'""',display:"table",paddingTop:"120%"}),Object(l.a)(t,"&:after",{content:'""',display:"block",position:"absolute",width:"99%",height:"99%",transform:"rotateY(.5turn)",backgroundColor:e.palette.background.default,backgroundImage:"\n                    repeating-linear-gradient(-45deg, transparent, transparent 5px, ".concat(e.palette.action.selected," 6px, transparent 7px),\n                    repeating-linear-gradient(45deg, transparent, transparent 5px,  ").concat(e.palette.action.selected," 6px, transparent 7px)\n                ")}),t),visible:{transform:"rotateY(0turn)"}})}));var Pe=function(){var e=Ue(),t=Object(r.useState)(!1),n=Object(s.a)(t,2),a=n[0],c=n[1],i=Object(ue.c)((function(e){return e.settings.scale})),d=Object(ue.c)((function(e){return e.vote.selected}));return Object(r.useEffect)((function(){c(!1)}),[d]),o.a.createElement("div",{className:e.root},null!==d?o.a.createElement(z.a,{onClick:function(){return c(!a)},className:Object(u.a)(e.card,Object(l.a)({},e.visible,a)),variant:"outlined"},q[i][d]):null)};var ze=function(){var e=Object(ue.b)(),t=Object(ue.c)((function(e){return e.settings.theme})),n=Object(fe.a)(Object(he.a)({palette:{type:["dark","light"][t],primary:{main:"#448aff"},secondary:{main:"#00897b"}}}));return o.a.createElement(Oe.a,{theme:n},o.a.createElement(be,{togglePalleteMode:function(){e(ne((t+1)%2))}},o.a.createElement(Re,null),o.a.createElement(de.a,{path:"/",exact:!0,component:xe}),o.a.createElement(de.a,{path:"/results",component:Pe})))},De=(n(114),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function Ve(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Xe=n(22),He=n(34),Je=n(91),$e={scale:0,open:!1,sound:!0,theme:0,countdown:7,countdownWarning:3,online:!1,onlineURL:!1,closeOnVote:!1};var Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(a.a)({},e,{countdown:t.payload});case J:return Object(a.a)({},e,{countdownWarning:t.payload});case Y:return Object(a.a)({},e,{scale:t.payload});case K:return Object(a.a)({},e,{open:t.payload});case Z:return Object(a.a)({},e,{sound:t.payload});case te:return Object(a.a)({},e,{theme:t.payload});case ae:return Object(a.a)({},e,{online:t.payload});case oe:return Object(a.a)({},e,{onlineURL:t.payload});case ce:return Object(a.a)({},e,{closeOnVote:t.payload});default:return e}},qe={selected:null};var Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(a.a)({},e,{selected:t.payload});default:return e}},Ke=Object(He.c)({settings:Ye,vote:Fe}),Qe=-1==="/agiled".search(/agiled/)?Object(Xe.a)():Object(Xe.b)(),Ze=Object(He.d)(Ke,Object(He.a)(Object(Je.routerMiddleware)(Qe))),et=Ze.getState().settings;Ze.getState().settings=Object(a.a)({},et,{},JSON.parse(localStorage.settings||"{}")),i.a.render(o.a.createElement(ue.a,{store:Ze},o.a.createElement(de.b,{history:Qe},o.a.createElement(ze,null))),document.getElementById("root")),window.onbeforeunload=function(){localStorage.settings=JSON.stringify(Ze.getState().settings)},function(e){if("serviceWorker"in navigator){if(new URL("/agiled",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/agiled","/service-worker.js");De?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ve(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ve(t,e)}))}}()},89:function(e,t,n){e.exports=n.p+"static/media/alarm.c97ce8b0.mp3"},90:function(e,t,n){e.exports=n.p+"static/media/tick.9c808491.mp3"}},[[103,1,2]]]);
//# sourceMappingURL=main.f8aaf4bf.chunk.js.map